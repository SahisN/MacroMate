{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { BarCodeScanner } from 'expo-barcode-scanner';\nimport { AntDesign } from '@expo/vector-icons';\nimport { useNavigation } from '@react-navigation/native';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction AddFood(_ref) {\n  var route = _ref.route;\n  var _BarCodeScanner$usePe = BarCodeScanner.usePermissions(),\n    _BarCodeScanner$usePe2 = _slicedToArray(_BarCodeScanner$usePe, 2),\n    permissionResponse = _BarCodeScanner$usePe2[0],\n    requestPermission = _BarCodeScanner$usePe2[1];\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    hasPermission = _useState2[0],\n    setHasPermission = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    query = _useState4[0],\n    setQuery = _useState4[1];\n  var _useState5 = useState([]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    result = _useState6[0],\n    setResult = _useState6[1];\n  var _useState7 = useState(''),\n    _useState8 = _slicedToArray(_useState7, 2),\n    searchTerm = _useState8[0],\n    setSearchTerm = _useState8[1];\n  var _useState9 = useState(null),\n    _useState10 = _slicedToArray(_useState9, 2),\n    barcode = _useState10[0],\n    setBarcode = _useState10[1];\n  var _useState11 = useState(null),\n    _useState12 = _slicedToArray(_useState11, 2),\n    currentFood = _useState12[0],\n    setCurrentFood = _useState12[1];\n  var _useState13 = useState(false),\n    _useState14 = _slicedToArray(_useState13, 2),\n    showScanner = _useState14[0],\n    setShowScanner = _useState14[1];\n  var apiKey = 'sd8DWPmBSnFocMzJvTzQ6JcE1vHRxsabdd08JOC8';\n  var handleInputChange = function handleInputChange(text) {\n    setSearchTerm(text);\n  };\n  var BreakFast = [{\n    key: 'item1',\n    value: 'Eggs'\n  }, {\n    key: 'item2',\n    value: 'Orange Juice'\n  }];\n  var renderItem = function renderItem(_ref2) {\n    var item = _ref2.item;\n    return _jsx(View, {\n      children: _jsx(TouchableOpacity, {\n        style: {\n          padding: 10,\n          borderBottomColor: 'black',\n          borderBottomWidth: 1\n        },\n        onPress: function onPress() {\n          return navigation.navigate('FoodInput', {\n            foodId: item.key\n          });\n        },\n        children: _jsx(Text, {\n          children: item.name\n        })\n      })\n    }, item.key);\n  };\n  var handleSearchClick = function handleSearchClick() {\n    if (searchTerm) {\n      var dataType = [\"Survey (FNDDS)\"];\n      var pageSize = 20;\n      var _endpoint = \"https://api.nal.usda.gov/fdc/v1/foods/search?api_key=\" + encodeURIComponent(apiKey) + \"&query=\" + encodeURIComponent(searchTerm) + \"&dataType=\" + encodeURIComponent(dataType) + \"&pageSize=\" + encodeURIComponent(pageSize);\n      fetch(_endpoint).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        var results = data.foods.map(function (item) {\n          return {\n            key: item.fdcId,\n            name: item.description\n          };\n        });\n        setResult(results);\n      }).catch(function (error) {\n        return console.log(error);\n      });\n    } else {\n      setResult([]);\n    }\n  };\n  var navigation = useNavigation();\n  var requestCameraPermission = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      var _yield$requestPermiss = yield requestPermission(),\n        status = _yield$requestPermiss.status;\n      setHasPermission(status === 'granted');\n    });\n    return function requestCameraPermission() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var handleBarCodeVisibility = function handleBarCodeVisibility() {\n    if (showScanner == false) {\n      setShowScanner(true);\n    } else {\n      setShowScanner(false);\n    }\n  };\n  var handleScanBarcodePress = function handleScanBarcodePress() {\n    requestCameraPermission();\n    if (permissionResponse.canAskAgain == false) {\n      Alert.alert('Camera disabled', 'Enable manually on settings > Expo Go > Camera');\n    } else if (permissionResponse.granted) {\n      handleBarCodeVisibility();\n    }\n  };\n  var format = function format(barcodeNumber) {\n    var originalCode = barcodeNumber;\n    var convertedCode = originalCode.substring(1);\n    return convertedCode;\n  };\n  var getBarcodeResult = function getBarcodeResult(data) {\n    endpoint = \"https://api.nal.usda.gov/fdc/v1/foods/search?query=gtinUpc:\" + data + \"&api_key=\" + apiKey;\n    fetch(endpoint).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      var results = data.foods[0];\n      if (results === undefined) {\n        console.log(\"product doesn't exists\");\n        Alert.alert(\"Product doesn't exist or wrong orientation\", \"Please use manualEntry or scan another barcode\");\n      } else {\n        console.log('succesful: ' + results.fdcId);\n        sendNutrientValues(results.fdcId);\n      }\n    }).catch(function (error) {\n      return console.error(error);\n    });\n  };\n  var sendNutrientValues = function sendNutrientValues(fdcId) {\n    endpoint = \"https://api.nal.usda.gov/fdc/v1/food/\" + fdcId + \"?nutrients=203&nutrients=204&nutrients=205&nutrients=208&api_key=\" + apiKey;\n    fetch(endpoint).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      var labelNutrients = data.labelNutrients;\n      var nutrientList = [data.description, labelNutrients.calories.value, labelNutrients.carbohydrates.value, labelNutrients.fat.value, labelNutrients.protein.value];\n      console.log(nutrientList);\n      navigation.navigate('BarcodeEntry', nutrientList);\n    }).catch(function (error) {\n      return console.error(error);\n    });\n  };\n  var handleBarCodeScanned = function handleBarCodeScanned(_ref4) {\n    var type = _ref4.type,\n      data = _ref4.data;\n    setShowScanner(false);\n    endpoint = \"https://api.nal.usda.gov/fdc/v1/foods/search?query=gtinUpc:\" + data + \"&api_key=\" + apiKey;\n    fetch(endpoint).then(function (response) {\n      return response.json();\n    }).then(function (results) {\n      var result_doc = results.foods[0];\n      if (result_doc === undefined) {\n        var fdcId = getBarcodeResult(format(data));\n      } else {\n        sendNutrientValues(results.fdcId);\n      }\n    }).catch(function (error) {\n      return console.error(error);\n    });\n  };\n  var handleFloatingButton = function handleFloatingButton() {\n    navigation.navigate('ManualEntry');\n  };\n  var handleSearch = function handleSearch(e) {\n    e.preventDefault();\n    fetchFoodData();\n  };\n  return _jsxs(View, {\n    style: {\n      flex: 1\n    },\n    children: [_jsxs(View, {\n      style: styles.container,\n      children: [_jsx(TextInput, {\n        style: styles.input,\n        value: searchTerm,\n        onChangeText: handleInputChange,\n        placeholder: \"Search...\"\n      }), _jsx(Button, {\n        title: \"Search\",\n        onPress: handleSearchClick\n      }), _jsx(TouchableOpacity, {\n        onPress: handleScanBarcodePress,\n        children: _jsx(AntDesign, {\n          name: \"scan1\",\n          size: 24,\n          color: \"black\"\n        })\n      })]\n    }), showScanner ? _jsx(BarCodeScanner, {\n      onBarCodeScanned: handleBarCodeScanned,\n      style: styles.camera\n    }) : _jsx(FlatList, {\n      data: result,\n      renderItem: renderItem,\n      keyExtractor: function keyExtractor(item) {\n        return item.key;\n      }\n    }), _jsx(TouchableOpacity, {\n      style: styles.floating,\n      onPress: handleFloatingButton,\n      children: _jsx(AntDesign, {\n        name: \"plus\",\n        size: 24,\n        color: \"white\"\n      })\n    })]\n  });\n}\nexport default AddFood;\nvar styles = StyleSheet.create({\n  container: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  input: {\n    flex: 1,\n    height: 40,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10\n  },\n  floating: {\n    position: 'absolute',\n    bottom: 20,\n    right: 20,\n    backgroundColor: 'blue',\n    borderRadius: 25,\n    width: 50,\n    height: 50,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  camera: {\n    flex: 1,\n    flexDirection: 'column',\n    justifyContent: 'center'\n  },\n  addManualContainer: {\n    justifyContent: 'flex-end',\n    alignItems: 'flex-end'\n  },\n  AddFoodManually: {\n    marginTop: 5,\n    marginRight: 15,\n    marginBottom: 15,\n    justifyContent: 'center',\n    alignContent: 'center',\n    alignSelf: 'auto',\n    borderColor: 'black',\n    borderWidth: 1,\n    height: 88,\n    width: 88,\n    borderRadius: 50\n  },\n  buttonText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","Button","TextInput","View","StyleSheet","TouchableOpacity","Text","Alert","FlatList","BarCodeScanner","AntDesign","useNavigation","jsx","_jsx","jsxs","_jsxs","AddFood","_ref","route","_BarCodeScanner$usePe","usePermissions","_BarCodeScanner$usePe2","_slicedToArray","permissionResponse","requestPermission","_useState","_useState2","hasPermission","setHasPermission","_useState3","_useState4","query","setQuery","_useState5","_useState6","result","setResult","_useState7","_useState8","searchTerm","setSearchTerm","_useState9","_useState10","barcode","setBarcode","_useState11","_useState12","currentFood","setCurrentFood","_useState13","_useState14","showScanner","setShowScanner","apiKey","handleInputChange","text","BreakFast","key","value","renderItem","_ref2","item","children","style","padding","borderBottomColor","borderBottomWidth","onPress","navigation","navigate","foodId","name","handleSearchClick","dataType","pageSize","endpoint","encodeURIComponent","fetch","then","response","json","data","results","foods","map","fdcId","description","catch","error","console","log","requestCameraPermission","_ref3","_asyncToGenerator","_yield$requestPermiss","status","apply","arguments","handleBarCodeVisibility","handleScanBarcodePress","canAskAgain","alert","granted","format","barcodeNumber","originalCode","convertedCode","substring","getBarcodeResult","undefined","sendNutrientValues","labelNutrients","nutrientList","calories","carbohydrates","fat","protein","handleBarCodeScanned","_ref4","type","result_doc","handleFloatingButton","handleSearch","e","preventDefault","fetchFoodData","flex","styles","container","input","onChangeText","placeholder","title","size","color","onBarCodeScanned","camera","keyExtractor","floating","create","flexDirection","alignItems","justifyContent","height","margin","borderWidth","position","bottom","right","backgroundColor","borderRadius","width","addManualContainer","AddFoodManually","marginTop","marginRight","marginBottom","alignContent","alignSelf","borderColor","buttonText","fontSize","fontWeight","textAlign"],"sources":["C:/Users/jenli/csula-cs3337swe-202301Group5-repo/Components/Tabs/AddFood.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Button, TextInput, View, StyleSheet, TouchableOpacity, Text, Alert, FlatList } from 'react-native';\r\nimport { BarCodeScanner } from 'expo-barcode-scanner';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport { useNavigation } from '@react-navigation/native';\r\n\r\n\r\n\r\nfunction AddFood({ route }) {\r\n    const [permissionResponse, requestPermission] = BarCodeScanner.usePermissions();\r\n    const [hasPermission, setHasPermission] = useState(null)\r\n    const [query, setQuery] = useState('');\r\n    const [result, setResult] = useState([]);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [barcode, setBarcode] = useState(null);\r\n    const [currentFood, setCurrentFood] = useState(null);\r\n    const [showScanner, setShowScanner] = useState(false);\r\n    \r\n    const apiKey = 'sd8DWPmBSnFocMzJvTzQ6JcE1vHRxsabdd08JOC8';\r\n\r\n    const handleInputChange = (text) => {\r\n        setSearchTerm(text);\r\n    };\r\n\r\n    const BreakFast = [\r\n        { key: 'item1', value: 'Eggs' },\r\n        { key: 'item2', value: 'Orange Juice' },\r\n    ];\r\n\r\n    const renderItem = ({ item }) => {\r\n        return (\r\n            <View key={item.key}>\r\n                {/** For Nutrition Page navigation */}\r\n                <TouchableOpacity style={{ padding: 10, borderBottomColor: 'black', borderBottomWidth: 1 }}\r\n                onPress={() => navigation.navigate('FoodInput', { foodId: item.key })}\r\n                >\r\n                    <Text>{item.name}</Text>\r\n                </TouchableOpacity>\r\n            </View>\r\n        );\r\n    };\r\n\r\n    const handleSearchClick = () => {\r\n        if (searchTerm)\r\n        {\r\n            const dataType = [\"Survey (FNDDS)\"];\r\n            const pageSize = 20;\r\n            const endpoint = `https://api.nal.usda.gov/fdc/v1/foods/search?api_key=${encodeURIComponent(apiKey)}&query=${encodeURIComponent(searchTerm)}&dataType=${encodeURIComponent(dataType)}&pageSize=${encodeURIComponent(pageSize)}`;\r\n        \r\n        fetch(endpoint).then(response => response.json()).then(data => {\r\n            const results = data.foods.map(item => ({ key: item.fdcId, name: item.description }));\r\n            setResult(results);\r\n        }).catch(error => console.log(error));\r\n        }\r\n\r\n        else\r\n        {\r\n            setResult([]);\r\n        }\r\n        \r\n    };\r\n\r\n    const navigation = useNavigation();\r\n\r\n\r\n    const requestCameraPermission = async () => {\r\n        const { status } = await requestPermission();\r\n        setHasPermission(status === 'granted');\r\n    };\r\n\r\n    const handleBarCodeVisibility = () => {\r\n        if (showScanner == false) {\r\n            setShowScanner(true);\r\n        }\r\n\r\n        else {\r\n            setShowScanner(false);\r\n        }\r\n    }\r\n\r\n    const handleScanBarcodePress = () => {\r\n        // send alert to user to manually turn on camera\r\n        requestCameraPermission()\r\n        if (permissionResponse.canAskAgain == false) {\r\n            Alert.alert('Camera disabled', 'Enable manually on settings > Expo Go > Camera')\r\n        }\r\n\r\n        else if (permissionResponse.granted) {\r\n            handleBarCodeVisibility()\r\n        }\r\n\r\n    };\r\n\r\n    const format = (barcodeNumber) => {\r\n        const originalCode = barcodeNumber;\r\n        const convertedCode = originalCode.substring(1);\r\n        return convertedCode;\r\n    }\r\n\r\n    const getBarcodeResult = (data) => {\r\n        endpoint = `https://api.nal.usda.gov/fdc/v1/foods/search?query=gtinUpc:${data}&api_key=${apiKey}`\r\n        fetch(endpoint).then((response) => response.json()).then(data => {\r\n            const results = data.foods[0];\r\n            \r\n            if(results === undefined)\r\n            {\r\n                console.log(\"product doesn't exists\");\r\n                Alert.alert(\"Product doesn't exist or wrong orientation\", \"Please use manualEntry or scan another barcode\");\r\n            }\r\n\r\n            else\r\n            {   \r\n                console.log('succesful: ' + results.fdcId);\r\n                sendNutrientValues(results.fdcId);\r\n            }\r\n\r\n        }).catch((error) => console.error(error));\r\n    }\r\n\r\n    const sendNutrientValues = (fdcId) => {\r\n        //\r\n        endpoint = `https://api.nal.usda.gov/fdc/v1/food/${fdcId}?nutrients=203&nutrients=204&nutrients=205&nutrients=208&api_key=${apiKey}`;\r\n        fetch(endpoint).then((response) => response.json()).then(data => {\r\n            const labelNutrients = data.labelNutrients;\r\n            var nutrientList = [data.description, labelNutrients.calories.value, labelNutrients.carbohydrates.value, labelNutrients.fat.value, labelNutrients.protein.value];\r\n            console.log(nutrientList);\r\n            navigation.navigate('BarcodeEntry', nutrientList);\r\n\r\n        }).catch((error) => console.error(error));\r\n    }\r\n\r\n    const handleBarCodeScanned = ({ type, data }) => {\r\n        setShowScanner(false);\r\n        endpoint = `https://api.nal.usda.gov/fdc/v1/foods/search?query=gtinUpc:${data}&api_key=${apiKey}`\r\n       \r\n        fetch(endpoint).then((response) => response.json()).then(results => {\r\n            const result_doc = results.foods[0];\r\n            \r\n            if(result_doc === undefined)\r\n            {\r\n                // if the result is not found, make another request with with a single zero infront\r\n                const fdcId = getBarcodeResult(format(data));\r\n            }\r\n\r\n            else\r\n            {\r\n                sendNutrientValues(results.fdcId);\r\n            }\r\n\r\n        }).catch((error) => console.error(error));\r\n\r\n    };\r\n\r\n    \r\n\r\n    const handleFloatingButton = () => {\r\n        //foodData = ['Chips', 100, 2, 5, 3]\r\n        navigation.navigate('ManualEntry');\r\n    };\r\n\r\n    // to execute the search when the user submits the form:\r\n    const handleSearch = (e) => {\r\n        e.preventDefault();\r\n        fetchFoodData();\r\n      };\r\n      \r\n\r\n    return (\r\n        <View style={{ flex: 1 }}>\r\n            <View style={styles.container}>\r\n                <TextInput\r\n                    style={styles.input}\r\n                    value={searchTerm}\r\n                    onChangeText={handleInputChange}\r\n                    placeholder=\"Search...\"\r\n\r\n                />\r\n\r\n                <Button title=\"Search\" onPress={handleSearchClick} />\r\n                <TouchableOpacity onPress={handleScanBarcodePress}>\r\n                    <AntDesign name=\"scan1\" size={24} color=\"black\" />\r\n                </TouchableOpacity>\r\n\r\n            </View>\r\n            \r\n            {showScanner ? (\r\n                <BarCodeScanner\r\n                    onBarCodeScanned={handleBarCodeScanned}\r\n                    style={styles.camera}\r\n                />\r\n            ) :\r\n\r\n            ( <FlatList\r\n                data={result}\r\n                renderItem={renderItem}\r\n                keyExtractor={(item) => item.key}/>\r\n            )}\r\n\r\n            <TouchableOpacity style={styles.floating} onPress={handleFloatingButton}>\r\n               <AntDesign name=\"plus\" size={24} color=\"white\"/>\r\n            </TouchableOpacity>\r\n            \r\n        </View>\r\n        );\r\n    }\r\n\r\nexport default AddFood;\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    input: {\r\n        flex: 1,\r\n        height: 40,\r\n        margin: 12,\r\n        borderWidth: 1,\r\n        padding: 10,\r\n    },\r\n    floating: {\r\n        position: 'absolute',\r\n        bottom: 20,\r\n        right: 20,\r\n        backgroundColor: 'blue',\r\n        borderRadius: 25,\r\n        width: 50,\r\n        height: 50,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n    },\r\n\r\n    camera: {\r\n        flex: 1,\r\n        flexDirection: 'column',\r\n        justifyContent: 'center',\r\n    },\r\n\r\n    // add food manually - start\r\n    addManualContainer:{\r\n        justifyContent:'flex-end',\r\n        alignItems:'flex-end',\r\n    },\r\n    AddFoodManually: {\r\n        marginTop:5,\r\n        marginRight:15,\r\n        marginBottom:15,\r\n        justifyContent: 'center',\r\n        alignContent: 'center',\r\n        alignSelf:'auto',\r\n        borderColor:'black',\r\n        borderWidth:1,\r\n        height:88,\r\n        width:88,\r\n        borderRadius:50,\r\n    },\r\n    buttonText: {\r\n        fontSize: 18,\r\n        fontWeight: 'bold',\r\n        textAlign: 'center',\r\n        justifyContent:'center',\r\n        alignItems:'center',\r\n        \r\n    }\r\n    // add food manually - end\r\n\r\n\r\n\r\n});\r\n\r\n/**\r\n * useEffect(() =>{\r\n        const getBarCodeScannerPermissions = async () => {\r\n            const { status } = await BarCodeScanner.requestPermissionsAsync();\r\n            //setHasPermission(status == 'granted')\r\n\r\n        };\r\n\r\n        getBarCodeScannerPermissions();\r\n    }, []);\r\n */\r\n\r\n/**\r\n       const url = `https://api.edamam.com/api/food-database/v2/parser?ingr=${query}&app_id=e95e5979&app_key=76e088b148c151770844ff07901f8ceb`;\r\n       fetch(url).then(response => response.json()).then(data => {\r\n           const result = data.hints.map(item => ({key: item.food.foodId, title: item.food.label}));\r\n           setResult(result);\r\n       }).catch(error => console.log(error));\r\n       //setResult[BreakFast]\r\n       console.log(BreakFast);\r\n       console.log(result);\r\n**/"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}